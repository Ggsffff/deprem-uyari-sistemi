<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deprem Kontrol Paneli - Admin</title>
    <style>
        /* CSS Stilleri */
        body { font-family: sans-serif; padding: 20px; text-align: center; background-color: #f0f0f5; }
        h1 { color: #333; }
        .button-container { margin-top: 50px; }
        button { padding: 15px 30px; font-size: 1.2em; margin: 10px; cursor: pointer; border: none; border-radius: 8px; color: white; transition: transform 0.2s; }
        button:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        #btn-normal { background-color: #28a745; }
        #btn-uyari { background-color: #dc3545; }
        #mesaj { margin-top: 30px; font-size: 1.1em; }
    </style>
</head>
<body>

    <h1>ğŸš¨ Manuel Veri GÃ¶nderme Paneli</h1>
    <p>Bu arayÃ¼z, Deneyap Kart'Ä±n (donanÄ±m ekibinin) Firebase'e gÃ¶ndereceÄŸi veriyi simÃ¼le eder.</p>

    <div class="button-container">
        <button id="btn-normal" onclick="veriGonder('NORMAL')">ğŸŸ¢ NORMAL GÃ–NDER</button>
        <button id="btn-uyari" onclick="veriGonder('UYARI')">ğŸ”´ UYARI GÃ–NDER</button>
    </div>

    <p id="mesaj">LÃ¼tfen bir durum seÃ§erek Firebase'e veri gÃ¶nderin.</p>

    <script>
        // KANKA DÄ°KKAT: Firebase proje ID'ni ve Secret Key'ini buraya gir!
        const FIREBASE_PROJE_ID = '[SENÄ°N_FIREBASE_PROJE_ID\'N]'; 
        const FIREBASE_AUTH = '[SENÄ°N_FIREBASE_SECRET_KEY\'Ä°N]'; 
        
        // Veri yolu
        const ANLIK_DURUM_PATH = "/anlik_durum.json"; 
        
        async function veriGonder(durum) {
            const mesajElementi = document.getElementById('mesaj');
            mesajElementi.textContent = "Veri GÃ¶nderiliyor...";
            mesajElementi.style.color = '#333';

            // Firebase REST API URL'sini oluÅŸturma
            const url = `https://${FIREBASE_PROJE_ID}.firebaseio.com${ANLIK_DURUM_PATH}?auth=${FIREBASE_AUTH}`;

            // GÃ¶nderilecek JSON verisi (Firebase protokolÃ¼ gereÄŸi string tÄ±rnak iÃ§inde)
            const payload = JSON.stringify(durum); 

            try {
                const response = await fetch(url, {
                    method: 'PUT', // Veriyi tamamen Ã¼zerine yazar
                    headers: { 'Content-Type': 'application/json' },
                    body: payload
                });

                if (response.ok) {
                    mesajElementi.textContent = `âœ… BaÅŸarÄ±yla GÃ¶nderildi! Durum: ${durum}`;
                    mesajElementi.style.color = (durum === 'UYARI' ? '#dc3545' : '#28a745');
                } else {
                    // 404 gibi bir hata dÃ¶nerse
                    mesajElementi.textContent = `âŒ Hata oluÅŸtu! HTTP Kodu: ${response.status}. Anahtar/URL'yi kontrol et.`;
                    mesajElementi.style.color = '#333';
                }

            } catch (error) {
                console.error("GÃ¶nderme sÄ±rasÄ±nda aÄŸ hatasÄ±:", error);
                mesajElementi.textContent = `âŒ AÄŸ HatasÄ±: Veri gÃ¶nderilemedi. Konsolu kontrol et.`;
                mesajElementi.style.color = '#333';
            }
        }
    </script>

</body>
</html>